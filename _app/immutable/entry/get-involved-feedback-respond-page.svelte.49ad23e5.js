import{S as ce,i as ue,s as fe,k as f,a as w,q as C,l as d,m as p,c as R,r as U,h as c,n as o,b as O,H as s,Q as ke,I as oe,P as Y,M as we,N as Re,y as Z,z as x,A as ee,g as F,d as W,B as te,o as je,e as $e,v as De,f as Le}from"../chunks/index.d38948a9.js";import{C as Pe}from"../chunks/Content.85e61f1e.js";import{P as Se}from"../chunks/PageHeader.643225ff.js";function ye(r,e,l){const t=r.slice();return t[7]=e[l],t}function Ie(r){let e,l;return{c(){e=f("input"),this.h()},l(t){e=d(t,"INPUT",{type:!0,name:!0}),this.h()},h(){o(e,"type","hidden"),o(e,"name","notify"),e.value=l=r[7]},m(t,a){O(t,e,a)},p(t,a){a&4&&l!==(l=t[7])&&(e.value=l)},d(t){t&&c(e)}}}function Ve(r){let e,l,t,a,i,h,_,g,E,n,u,k,D,N,L,I,T,$,j,S,M,H,V,P,A,ae,le,q,z,B,ne,X,se,de,J=r[2],y=[];for(let m=0;m<J.length;m+=1)y[m]=Ie(ye(r,J,m));return{c(){e=f("form"),l=f("input"),t=w(),a=f("div"),i=f("label"),h=C("Subject"),_=w(),g=f("div"),E=f("input"),n=w(),u=f("div"),k=f("label"),D=C("Message"),N=w(),L=f("div"),I=f("textarea"),T=w();for(let m=0;m<y.length;m+=1)y[m].c();$=w(),j=f("div"),S=f("label"),M=C("Terms and Conditions"),H=w(),V=f("div"),P=f("label"),A=f("input"),ae=C(`
                I have discussed this response with all relevant recipients of the
                original feedback (as well as members of the Exec, should you have
                any concerns about the original feedback or how to respond).`),le=w(),q=f("div"),z=f("div"),B=f("button"),ne=C("Login & Submit"),this.h()},l(m){e=d(m,"FORM",{action:!0,method:!0});var v=p(e);l=d(v,"INPUT",{type:!0,name:!0}),t=R(v),a=d(v,"DIV",{class:!0});var b=p(a);i=d(b,"LABEL",{class:!0});var Q=p(i);h=U(Q,"Subject"),Q.forEach(c),_=R(b),g=d(b,"DIV",{class:!0});var he=p(g);E=d(he,"INPUT",{name:!0,class:!0,type:!0}),he.forEach(c),b.forEach(c),n=R(v),u=d(v,"DIV",{class:!0});var G=p(u);k=d(G,"LABEL",{class:!0});var me=p(k);D=U(me,"Message"),me.forEach(c),N=R(G),L=d(G,"DIV",{class:!0});var pe=p(L);I=d(pe,"TEXTAREA",{name:!0,class:!0,placeholder:!0}),p(I).forEach(c),pe.forEach(c),G.forEach(c),T=R(v);for(let ie=0;ie<y.length;ie+=1)y[ie].l(v);$=R(v),j=d(v,"DIV",{class:!0});var K=p(j);S=d(K,"LABEL",{class:!0});var ve=p(S);M=U(ve,"Terms and Conditions"),ve.forEach(c),H=R(K),V=d(K,"DIV",{class:!0});var be=p(V);P=d(be,"LABEL",{class:!0});var re=p(P);A=d(re,"INPUT",{name:!0,type:!0}),ae=U(re,`
                I have discussed this response with all relevant recipients of the
                original feedback (as well as members of the Exec, should you have
                any concerns about the original feedback or how to respond).`),re.forEach(c),be.forEach(c),K.forEach(c),le=R(v),q=d(v,"DIV",{class:!0});var _e=p(q);z=d(_e,"DIV",{class:!0});var ge=p(z);B=d(ge,"BUTTON",{class:!0});var Ee=p(B);ne=U(Ee,"Login & Submit"),Ee.forEach(c),ge.forEach(c),_e.forEach(c),v.forEach(c),this.h()},h(){o(l,"type","hidden"),o(l,"name","recipient"),l.value=r[1],o(i,"class","label"),E.value=r[0],o(E,"name","subject"),o(E,"class","input"),o(E,"type","text"),E.readOnly=!0,o(g,"class","control"),o(a,"class","field"),o(k,"class","label"),o(I,"name","message"),o(I,"class","textarea"),o(I,"placeholder","e.g. Thanks for letting us know about..."),o(L,"class","control"),o(u,"class","field"),o(S,"class","label"),o(A,"name","agreed"),o(A,"type","checkbox"),o(P,"class","checkbox"),o(V,"class","control"),o(j,"class","field"),o(B,"class","button is-link"),B.disabled=X=!r[4]||r[3].length==0,o(z,"class","control"),o(q,"class","field mt-5"),o(e,"action","https://members.thejcr.co.uk/api/feedback/respond"),o(e,"method","POST")},m(m,v){O(m,e,v),s(e,l),s(e,t),s(e,a),s(a,i),s(i,h),s(a,_),s(a,g),s(g,E),s(e,n),s(e,u),s(u,k),s(k,D),s(u,N),s(u,L),s(L,I),ke(I,r[3]),s(e,T);for(let b=0;b<y.length;b+=1)y[b]&&y[b].m(e,null);s(e,$),s(e,j),s(j,S),s(S,M),s(j,H),s(j,V),s(V,P),s(P,A),A.checked=r[4],s(P,ae),s(e,le),s(e,q),s(q,z),s(z,B),s(B,ne),se||(de=[oe(I,"input",r[5]),oe(A,"change",r[6])],se=!0)},p(m,[v]){if(v&2&&(l.value=m[1]),v&1&&E.value!==m[0]&&(E.value=m[0]),v&8&&ke(I,m[3]),v&4){J=m[2];let b;for(b=0;b<J.length;b+=1){const Q=ye(m,J,b);y[b]?y[b].p(Q,v):(y[b]=Ie(Q),y[b].c(),y[b].m(e,$))}for(;b<y.length;b+=1)y[b].d(1);y.length=J.length}v&16&&(A.checked=m[4]),v&24&&X!==(X=!m[4]||m[3].length==0)&&(B.disabled=X)},i:Y,o:Y,d(m){m&&c(e),we(y,m),se=!1,Re(de)}}}function Oe(r,e,l){let{subject:t}=e,{recipient:a}=e,{notify:i}=e,h="",_=!1;function g(){h=this.value,l(3,h)}function E(){_=this.checked,l(4,_)}return r.$$set=n=>{"subject"in n&&l(0,t=n.subject),"recipient"in n&&l(1,a=n.recipient),"notify"in n&&l(2,i=n.notify)},[t,a,i,h,_,g,E]}class Ne extends ce{constructor(e){super(),ue(this,e,Oe,Ve,fe,{subject:0,recipient:1,notify:2})}}function Ae(r){let e,l,t,a,i,h,_,g,E,n,u,k,D,N,L,I;return{c(){e=f("form"),l=f("input"),t=w(),a=f("div"),i=f("div"),h=f("label"),_=f("input"),g=C(`
                I have discussed this action with all relevant recipients of the
                original feedback, as well as both the Exec and the Webmaster. I
                agree that any member of the JCR Committee may be alerted of this
                action.`),E=w(),n=f("div"),u=f("div"),k=f("button"),D=C("Reveal Original Sender"),this.h()},l(T){e=d(T,"FORM",{action:!0,method:!0});var $=p(e);l=d($,"INPUT",{type:!0,name:!0}),t=R($),a=d($,"DIV",{class:!0});var j=p(a);i=d(j,"DIV",{class:!0});var S=p(i);h=d(S,"LABEL",{class:!0});var M=p(h);_=d(M,"INPUT",{name:!0,type:!0}),g=U(M,`
                I have discussed this action with all relevant recipients of the
                original feedback, as well as both the Exec and the Webmaster. I
                agree that any member of the JCR Committee may be alerted of this
                action.`),M.forEach(c),S.forEach(c),j.forEach(c),E=R($),n=d($,"DIV",{class:!0});var H=p(n);u=d(H,"DIV",{class:!0});var V=p(u);k=d(V,"BUTTON",{class:!0});var P=p(k);D=U(P,"Reveal Original Sender"),P.forEach(c),V.forEach(c),H.forEach(c),$.forEach(c),this.h()},h(){o(l,"type","hidden"),o(l,"name","encrypted"),l.value=r[0],o(_,"name","agreed"),o(_,"type","checkbox"),o(h,"class","checkbox"),o(i,"class","control"),o(a,"class","field"),o(k,"class","button is-danger"),k.disabled=N=!r[1],o(u,"class","control"),o(n,"class","field mt-5"),o(e,"action","https://members.thejcr.co.uk/api/feedback/reveal"),o(e,"method","POST")},m(T,$){O(T,e,$),s(e,l),s(e,t),s(e,a),s(a,i),s(i,h),s(h,_),_.checked=r[1],s(h,g),s(e,E),s(e,n),s(n,u),s(u,k),s(k,D),L||(I=oe(_,"change",r[2]),L=!0)},p(T,[$]){$&1&&(l.value=T[0]),$&2&&(_.checked=T[1]),$&2&&N!==(N=!T[1])&&(k.disabled=N)},i:Y,o:Y,d(T){T&&c(e),L=!1,I()}}}function Be(r,e,l){let{encrypted:t}=e,a=!1;function i(){a=this.checked,l(1,a)}return r.$$set=h=>{"encrypted"in h&&l(0,t=h.encrypted)},[t,a,i]}class Ce extends ce{constructor(e){super(),ue(this,e,Be,Ae,fe,{encrypted:0})}}function Te(r){let e,l,t,a,i,h,_,g,E;return e=new Ne({props:{subject:r[1],recipient:r[0],notify:r[2]}}),g=new Ce({props:{encrypted:r[0]}}),{c(){Z(e.$$.fragment),l=w(),t=f("br"),a=w(),i=f("h2"),h=C("Reveal Original Sender"),_=w(),Z(g.$$.fragment)},l(n){x(e.$$.fragment,n),l=R(n),t=d(n,"BR",{}),a=R(n),i=d(n,"H2",{});var u=p(i);h=U(u,"Reveal Original Sender"),u.forEach(c),_=R(n),x(g.$$.fragment,n)},m(n,u){ee(e,n,u),O(n,l,u),O(n,t,u),O(n,a,u),O(n,i,u),s(i,h),O(n,_,u),ee(g,n,u),E=!0},p(n,u){const k={};u&2&&(k.subject=n[1]),u&1&&(k.recipient=n[0]),u&4&&(k.notify=n[2]),e.$set(k);const D={};u&1&&(D.encrypted=n[0]),g.$set(D)},i(n){E||(F(e.$$.fragment,n),F(g.$$.fragment,n),E=!0)},o(n){W(e.$$.fragment,n),W(g.$$.fragment,n),E=!1},d(n){te(e,n),n&&c(l),n&&c(t),n&&c(a),n&&c(i),n&&c(_),te(g,n)}}}function Ue(r){let e,l,t=r[0]&&r[1]&&Te(r);return{c(){t&&t.c(),e=$e()},l(a){t&&t.l(a),e=$e()},m(a,i){t&&t.m(a,i),O(a,e,i),l=!0},p(a,i){a[0]&&a[1]?t?(t.p(a,i),i&3&&F(t,1)):(t=Te(a),t.c(),F(t,1),t.m(e.parentNode,e)):t&&(De(),W(t,1,1,()=>{t=null}),Le())},i(a){l||(F(t),l=!0)},o(a){W(t),l=!1},d(a){t&&t.d(a),a&&c(e)}}}function Me(r){let e,l;return e=new Pe({props:{$$slots:{default:[Ue]},$$scope:{ctx:r}}}),{c(){Z(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,a){const i={};a&15&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function Fe(r){let e,l;return e=new Se({props:{current:"/get-involved/feedback/respond",title:"Feedback Response",size:"small",metaDescription:"",$$slots:{default:[Me]},$$scope:{ctx:r}}}),{c(){Z(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,[a]){const i={};a&15&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function He(r,e,l){let t,a,i;return je(()=>{const h=new URLSearchParams(document.location.search);l(0,t=h.get("recipient")),l(1,a=h.get("subject")),l(2,i=h.getAll("notify"))}),[t,a,i]}class We extends ce{constructor(e){super(),ue(this,e,He,Fe,fe,{})}}export{We as default};
