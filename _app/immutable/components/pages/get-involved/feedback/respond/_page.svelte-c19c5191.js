import{S as le,i as ne,s as re,k as f,a as y,q as O,l as d,m,c as w,r as C,h as c,n as o,b as N,H as n,$ as be,I as se,P as X,N as $e,w as G,x as K,y as Q,f as U,t as H,z as Y,o as Ee,e as _e,g as ke,d as Ie}from"../../../../../chunks/index-35427abf.js";import{C as ye}from"../../../../../chunks/Content-e5152620.js";import{P as we}from"../../../../../chunks/PageHeader-0ea7f636.js";function Te(i){let e,s,t,a,r,p,_,v,h,l,u,g,R,P,j,E,k,b,L,A,B,S,D,T,Z,x,F,M,V,ee,q,te,oe;return{c(){e=f("form"),s=f("input"),t=y(),a=f("div"),r=f("label"),p=O("Subject"),_=y(),v=f("div"),h=f("input"),l=y(),u=f("div"),g=f("label"),R=O("Message"),P=y(),j=f("div"),E=f("textarea"),k=y(),b=f("div"),L=f("label"),A=O("Terms and Conditions"),B=y(),S=f("div"),D=f("label"),T=f("input"),Z=O(`
                I have discussed this response with all relevant recipients of the
                original feedback (as well as members of the Exec, should you have
                any concerns about the original feedback or how to respond).`),x=y(),F=f("div"),M=f("div"),V=f("button"),ee=O("Login & Submit"),this.h()},l(I){e=d(I,"FORM",{action:!0,method:!0});var $=m(e);s=d($,"INPUT",{type:!0,name:!0}),t=w($),a=d($,"DIV",{class:!0});var z=m(a);r=d(z,"LABEL",{class:!0});var ie=m(r);p=C(ie,"Subject"),ie.forEach(c),_=w(z),v=d(z,"DIV",{class:!0});var ce=m(v);h=d(ce,"INPUT",{name:!0,class:!0,type:!0}),ce.forEach(c),z.forEach(c),l=w($),u=d($,"DIV",{class:!0});var J=m(u);g=d(J,"LABEL",{class:!0});var ue=m(g);R=C(ue,"Message"),ue.forEach(c),P=w(J),j=d(J,"DIV",{class:!0});var fe=m(j);E=d(fe,"TEXTAREA",{name:!0,class:!0,placeholder:!0}),m(E).forEach(c),fe.forEach(c),J.forEach(c),k=w($),b=d($,"DIV",{class:!0});var W=m(b);L=d(W,"LABEL",{class:!0});var de=m(L);A=C(de,"Terms and Conditions"),de.forEach(c),B=w(W),S=d(W,"DIV",{class:!0});var he=m(S);D=d(he,"LABEL",{class:!0});var ae=m(D);T=d(ae,"INPUT",{name:!0,type:!0}),Z=C(ae,`
                I have discussed this response with all relevant recipients of the
                original feedback (as well as members of the Exec, should you have
                any concerns about the original feedback or how to respond).`),ae.forEach(c),he.forEach(c),W.forEach(c),x=w($),F=d($,"DIV",{class:!0});var me=m(F);M=d(me,"DIV",{class:!0});var pe=m(M);V=d(pe,"BUTTON",{class:!0});var ve=m(V);ee=C(ve,"Login & Submit"),ve.forEach(c),pe.forEach(c),me.forEach(c),$.forEach(c),this.h()},h(){o(s,"type","hidden"),o(s,"name","recipient"),s.value=i[1],o(r,"class","label"),h.value=i[0],o(h,"name","subject"),o(h,"class","input"),o(h,"type","text"),h.readOnly=!0,o(v,"class","control"),o(a,"class","field"),o(g,"class","label"),o(E,"name","message"),o(E,"class","textarea"),o(E,"placeholder","e.g. Thanks for letting us know about..."),o(j,"class","control"),o(u,"class","field"),o(L,"class","label"),o(T,"name","agreed"),o(T,"type","checkbox"),o(D,"class","checkbox"),o(S,"class","control"),o(b,"class","field"),o(V,"class","button is-link"),V.disabled=q=!i[3]||i[2].length==0,o(M,"class","control"),o(F,"class","field mt-5"),o(e,"action","https://members.thejcr.co.uk/api/feedback/respond"),o(e,"method","POST")},m(I,$){N(I,e,$),n(e,s),n(e,t),n(e,a),n(a,r),n(r,p),n(a,_),n(a,v),n(v,h),n(e,l),n(e,u),n(u,g),n(g,R),n(u,P),n(u,j),n(j,E),be(E,i[2]),n(e,k),n(e,b),n(b,L),n(L,A),n(b,B),n(b,S),n(S,D),n(D,T),T.checked=i[3],n(D,Z),n(e,x),n(e,F),n(F,M),n(M,V),n(V,ee),te||(oe=[se(E,"input",i[4]),se(T,"change",i[5])],te=!0)},p(I,[$]){$&2&&(s.value=I[1]),$&1&&h.value!==I[0]&&(h.value=I[0]),$&4&&be(E,I[2]),$&8&&(T.checked=I[3]),$&12&&q!==(q=!I[3]||I[2].length==0)&&(V.disabled=q)},i:X,o:X,d(I){I&&c(e),te=!1,$e(oe)}}}function Re(i,e,s){let{subject:t}=e,{recipient:a}=e,r="",p=!1;function _(){r=this.value,s(2,r)}function v(){p=this.checked,s(3,p)}return i.$$set=h=>{"subject"in h&&s(0,t=h.subject),"recipient"in h&&s(1,a=h.recipient)},[t,a,r,p,_,v]}class je extends le{constructor(e){super(),ne(this,e,Re,Te,re,{subject:0,recipient:1})}}function De(i){let e,s,t,a,r,p,_,v,h,l,u,g,R,P,j,E;return{c(){e=f("form"),s=f("input"),t=y(),a=f("div"),r=f("div"),p=f("label"),_=f("input"),v=O(`
                I have discussed this action with all relevant recipients of the
                original feedback, as well as both the Exec and the Webmaster. I
                agree that any member of the JCR Committee may be alerted of this
                action.`),h=y(),l=f("div"),u=f("div"),g=f("button"),R=O("Reveal Original Sender"),this.h()},l(k){e=d(k,"FORM",{action:!0,method:!0});var b=m(e);s=d(b,"INPUT",{type:!0,name:!0}),t=w(b),a=d(b,"DIV",{class:!0});var L=m(a);r=d(L,"DIV",{class:!0});var A=m(r);p=d(A,"LABEL",{class:!0});var B=m(p);_=d(B,"INPUT",{name:!0,type:!0}),v=C(B,`
                I have discussed this action with all relevant recipients of the
                original feedback, as well as both the Exec and the Webmaster. I
                agree that any member of the JCR Committee may be alerted of this
                action.`),B.forEach(c),A.forEach(c),L.forEach(c),h=w(b),l=d(b,"DIV",{class:!0});var S=m(l);u=d(S,"DIV",{class:!0});var D=m(u);g=d(D,"BUTTON",{class:!0});var T=m(g);R=C(T,"Reveal Original Sender"),T.forEach(c),D.forEach(c),S.forEach(c),b.forEach(c),this.h()},h(){o(s,"type","hidden"),o(s,"name","encrypted"),s.value=i[0],o(_,"name","agreed"),o(_,"type","checkbox"),o(p,"class","checkbox"),o(r,"class","control"),o(a,"class","field"),o(g,"class","button is-danger"),g.disabled=P=!i[1],o(u,"class","control"),o(l,"class","field mt-5"),o(e,"action","https://members.thejcr.co.uk/api/feedback/reveal"),o(e,"method","POST")},m(k,b){N(k,e,b),n(e,s),n(e,t),n(e,a),n(a,r),n(r,p),n(p,_),_.checked=i[1],n(p,v),n(e,h),n(e,l),n(l,u),n(u,g),n(g,R),j||(E=se(_,"change",i[2]),j=!0)},p(k,[b]){b&1&&(s.value=k[0]),b&2&&(_.checked=k[1]),b&2&&P!==(P=!k[1])&&(g.disabled=P)},i:X,o:X,d(k){k&&c(e),j=!1,E()}}}function Le(i,e,s){let{encrypted:t}=e,a=!1;function r(){a=this.checked,s(1,a)}return i.$$set=p=>{"encrypted"in p&&s(0,t=p.encrypted)},[t,a,r]}class Se extends le{constructor(e){super(),ne(this,e,Le,De,re,{encrypted:0})}}function ge(i){let e,s,t,a,r,p,_,v,h;return e=new je({props:{subject:i[1],recipient:i[0]}}),v=new Se({props:{encrypted:i[0]}}),{c(){G(e.$$.fragment),s=y(),t=f("br"),a=y(),r=f("h2"),p=O("Reveal Original Sender"),_=y(),G(v.$$.fragment)},l(l){K(e.$$.fragment,l),s=w(l),t=d(l,"BR",{}),a=w(l),r=d(l,"H2",{});var u=m(r);p=C(u,"Reveal Original Sender"),u.forEach(c),_=w(l),K(v.$$.fragment,l)},m(l,u){Q(e,l,u),N(l,s,u),N(l,t,u),N(l,a,u),N(l,r,u),n(r,p),N(l,_,u),Q(v,l,u),h=!0},p(l,u){const g={};u&2&&(g.subject=l[1]),u&1&&(g.recipient=l[0]),e.$set(g);const R={};u&1&&(R.encrypted=l[0]),v.$set(R)},i(l){h||(U(e.$$.fragment,l),U(v.$$.fragment,l),h=!0)},o(l){H(e.$$.fragment,l),H(v.$$.fragment,l),h=!1},d(l){Y(e,l),l&&c(s),l&&c(t),l&&c(a),l&&c(r),l&&c(_),Y(v,l)}}}function Pe(i){let e,s,t=i[0]&&i[1]&&ge(i);return{c(){t&&t.c(),e=_e()},l(a){t&&t.l(a),e=_e()},m(a,r){t&&t.m(a,r),N(a,e,r),s=!0},p(a,r){a[0]&&a[1]?t?(t.p(a,r),r&3&&U(t,1)):(t=ge(a),t.c(),U(t,1),t.m(e.parentNode,e)):t&&(ke(),H(t,1,1,()=>{t=null}),Ie())},i(a){s||(U(t),s=!0)},o(a){H(t),s=!1},d(a){t&&t.d(a),a&&c(e)}}}function Ve(i){let e,s;return e=new ye({props:{$$slots:{default:[Pe]},$$scope:{ctx:i}}}),{c(){G(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,a){Q(e,t,a),s=!0},p(t,a){const r={};a&7&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){s||(U(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function Oe(i){let e,s;return e=new we({props:{current:"/get-involved/feedback/respond",title:"Feedback Response",size:"small",metaDescription:"",$$slots:{default:[Ve]},$$scope:{ctx:i}}}),{c(){G(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,a){Q(e,t,a),s=!0},p(t,[a]){const r={};a&7&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){s||(U(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function Ce(i,e,s){let t,a;return Ee(()=>{const r=new URLSearchParams(document.location.search);s(0,t=r.get("recipient")),s(1,a=r.get("subject"))}),[t,a]}class Ae extends le{constructor(e){super(),ne(this,e,Ce,Oe,re,{})}}export{Ae as default};
